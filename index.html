<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinislam - Shamiul Islam Borson</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;600;700&family=Poppins:wght@300;400;600&family=Noto+Naskh+Arabic:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --primary: #1e1b4b; --accent: #06b6d4; --secondary: #6366f1;
            --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            --card-bg: #ffffff; --text-color: #1e293b; --body-bg: #f1f5f9;
            --glass: rgba(255, 255, 255, 0.1);
            --gold: #d4af37;
        }
        .dark-mode {
            --primary: #0f172a; --card-bg: #1e293b; --text-color: #f1f5f9;
            --body-bg: #020617; --bg-gradient: linear-gradient(135deg, #020617 0%, #0f172a 100%);
            --gold: #fbbf24;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Hind Siliguri', 'Poppins', sans-serif; transition: 0.3s; }
        body { background-color: var(--body-bg); color: var(--text-color); min-height: 100vh; overflow-x: hidden; }

        header { background: var(--primary); color: white; padding: 12px 5%; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .header-right { display: flex; align-items: center; gap: 10px; background: white; padding: 5px 12px; border-radius: 50px; color: var(--primary); }
        .header-right img { width: 28px; height: 28px; border-radius: 50%; }

        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        
        /* Updated Hero Section */
        .hero { 
            background: var(--bg-gradient); 
            color: white; 
            padding: 25px 20px; 
            border-radius: 30px; 
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
            z-index: 0;
        }
        .hero-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
            flex-wrap: wrap;
            gap: 15px;
        }
        .hero-left {
            flex: 1;
            min-width: 200px;
        }
        .hero-left p {
            font-size: 0.9rem;
            opacity: 0.9;
            letter-spacing: 1px;
        }
        .hero-left h2 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff, var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 5px;
        }
        .hero-right {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 15px 25px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            min-width: 150px;
        }
        .ramadan-day-label {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        .ramadan-day-number {
            font-size: 3rem;
            font-weight: 800;
            line-height: 1;
            color: var(--gold);
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        .ramadan-day-text {
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 5px;
        }
        .eid-label {
            text-align: center;
            margin-top: 15px;
            font-size: 0.85rem;
            font-family: 'SutonnyMJ', 'Hind Siliguri', sans-serif;
            opacity: 0.9;
            letter-spacing: 0.5px;
        }
        .timer { 
            display: flex; 
            justify-content: center; 
            gap: 8px; 
            margin-top: 15px;
            position: relative;
            z-index: 1;
        }
        .t-box { 
            background: rgba(255,255,255,0.1); 
            padding: 12px; 
            border-radius: 18px; 
            min-width: 70px; 
            border-bottom: 3px solid var(--accent);
            backdrop-filter: blur(5px);
        }
        .t-box span { display: block; font-size: 1.6rem; font-weight: 700; color: var(--accent); }

        /* Welcome Page Styles */
        .welcome-page {
            min-height: 100vh;
            background: var(--bg-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .welcome-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            padding: 40px 30px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .welcome-logo {
            text-align: center;
            margin-bottom: 25px;
        }
        .welcome-logo img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 4px solid var(--accent);
            object-fit: cover;
        }
        .welcome-title {
            font-size: 2.2rem;
            font-weight: 800;
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        .welcome-message {
            background: linear-gradient(145deg, #f8fafc, #e2e8f0);
            padding: 25px;
            border-radius: 25px;
            margin: 25px 0;
            color: var(--primary);
            line-height: 1.8;
            font-size: 1rem;
        }
        .welcome-message p {
            margin-bottom: 12px;
        }
        .welcome-message p:last-child {
            margin-bottom: 0;
        }
        .user-name-highlight {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            text-align: center;
            margin-bottom: 10px;
        }
        .welcome-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: white;
            border: none;
            padding: 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 10px 20px rgba(6, 182, 212, 0.3);
        }
        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--accent);
            padding: 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
        }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 18px; }
        .card { background: var(--card-bg); padding: 25px; border-radius: 25px; text-align: center; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center; backdrop-filter: blur(10px); }
        .modal-content { background: var(--card-bg); color: var(--text-color); width: 92%; max-width: 550px; padding: 25px; border-radius: 30px; max-height: 85vh; overflow-y: auto; position: relative; }
        .close { position: absolute; top: 15px; right: 20px; font-size: 32px; cursor: pointer; color: #94a3b8; }

        /* Updated Premium Creator Styles - More Attractive */
        .premium-creator {
            background: linear-gradient(145deg, var(--card-bg), var(--body-bg));
            border-radius: 30px;
            overflow: hidden;
            position: relative;
        }
        .premium-creator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            z-index: 0;
        }
        .creator-header {
            position: relative;
            z-index: 1;
            padding: 40px 20px 30px;
            text-align: center;
        }
        .creator-avatar {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 5px solid white;
            padding: 5px;
            background: linear-gradient(135deg, var(--accent), var(--gold));
            margin: 0 auto 20px;
            position: relative;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite;
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 20px 40px rgba(6, 182, 212, 0.3); }
            50% { box-shadow: 0 20px 60px rgba(212, 175, 55, 0.5); }
        }
        .creator-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
        }
        .creator-name-premium {
            font-size: 2.2rem;
            font-weight: 800;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        }
        .creator-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.2);
            padding: 10px 25px;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }
        .creator-badge i {
            color: var(--gold);
        }
        .creator-content {
            position: relative;
            z-index: 1;
            padding: 30px;
            background: var(--card-bg);
            border-radius: 30px 30px 0 0;
            margin-top: -20px;
        }
        .creator-quote {
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(99, 102, 241, 0.1));
            border-left: 5px solid var(--accent);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-color);
            position: relative;
            border-right: 1px solid rgba(6, 182, 212, 0.2);
            border-bottom: 1px solid rgba(6, 182, 212, 0.2);
        }
        .creator-quote i {
            color: var(--accent);
            margin-right: 8px;
        }
        .creator-message {
            background: linear-gradient(145deg, rgba(255,255,255,0.5), rgba(255,255,255,0.2));
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(6, 182, 212, 0.2);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        .creator-message p {
            margin-bottom: 18px;
            line-height: 1.9;
            color: var(--text-color);
        }
        .creator-message p:last-child {
            margin-bottom: 0;
        }
        .creator-highlight {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: white;
            padding: 3px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            margin-right: 8px;
            font-weight: 600;
        }
        .creator-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        .stat-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(145deg, rgba(6, 182, 212, 0.1), rgba(99, 102, 241, 0.1));
            border-radius: 20px;
            border: 1px solid rgba(6, 182, 212, 0.3);
        }
        .stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
        }
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            font-weight: 600;
        }
        .creator-footer {
            text-align: center;
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }
        .social-link {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: linear-gradient(145deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.5rem;
            transition: 0.3s;
            border: 2px solid rgba(255,255,255,0.3);
        }
        .social-link:hover {
            transform: translateY(-8px) rotate(360deg);
            background: linear-gradient(145deg, var(--accent), var(--gold));
        }
        .fb-btn-premium {
            background: linear-gradient(135deg, #1877f2, #0d5ab9);
            color: white;
            text-decoration: none;
            padding: 16px 35px;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(24, 119, 242, 0.4);
            transition: 0.3s;
            font-size: 1.1rem;
        }
        .fb-btn-premium:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 35px rgba(24, 119, 242, 0.5);
        }

        /* Rest of the styles */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .video-card { background: var(--card-bg); border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.2s; border: 1px solid rgba(0,0,0,0.05); }
        .video-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .video-thumb { width: 100%; height: 120px; object-fit: cover; background: #ddd; }
        .video-info { padding: 12px; }
        .video-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 5px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .video-channel { font-size: 0.75rem; color: var(--accent); opacity: 0.8; }
        
        .tasbih-container { background: linear-gradient(145deg, var(--card-bg), var(--body-bg)); padding: 30px 20px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .tasbih-tabs { display: flex; gap: 8px; margin-bottom: 25px; background: rgba(0,0,0,0.05); padding: 6px; border-radius: 20px; }
        .tasbih-tab-btn { flex: 1; border: none; padding: 12px; border-radius: 15px; cursor: pointer; font-weight: 700; background: transparent; color: var(--text-color); font-size: 0.9rem; }
        .tasbih-tab-btn.active { background: var(--accent); color: white; box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3); }
        .tasbih-display { position: relative; width: 240px; height: 240px; margin: 0 auto 25px; display: flex; align-items: center; justify-content: center; }
        .tasbih-main { width: 200px; height: 200px; background: var(--card-bg); border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 15px 35px rgba(0,0,0,0.1), inset 0 0 15px rgba(0,0,0,0.05); cursor: pointer; z-index: 5; transition: transform 0.1s active; }
        .tasbih-main:active { transform: scale(0.95); }
        .progress-ring-svg { position: absolute; top:0; left:0; width: 240px; height: 240px; transform: rotate(-90deg); }
        .progress-ring-circle { fill: transparent; stroke-width: 10; stroke-dasharray: 691; stroke-dashoffset: 691; stroke: var(--accent); transition: stroke-dashoffset 0.3s cubic-bezier(0.4, 0, 0.2, 1); stroke-linecap: round; filter: drop-shadow(0 0 5px var(--accent)); }
        .progress-ring-bg { fill: transparent; stroke: rgba(0,0,0,0.05); stroke-width: 10; }
        .t-count { font-size: 4.5rem; font-weight: 800; color: var(--primary); line-height: 1; margin-bottom: 5px; }
        .t-label { font-size: 1rem; font-weight: 600; color: var(--accent); letter-spacing: 1px; text-transform: uppercase; }
        
        .dua-card { background: rgba(0,0,0,0.04); padding: 18px; border-radius: 20px; margin-bottom: 15px; border-left: 6px solid var(--accent); text-align: left; }
        .ar { font-size: 1.4rem; text-align: right; direction: rtl; margin: 10px 0; font-weight: bold; color: var(--primary); line-height: 1.8; font-family: 'Noto Naskh Arabic', serif; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { background: var(--primary); color: white; padding: 10px; font-size: 0.8rem; }
        td { padding: 10px; border-bottom: 1px solid #eee; text-align: center; font-size: 0.8rem; }

        .btn { background: var(--secondary); color: white; border: none; padding: 14px; border-radius: 15px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; box-shadow: 0 4px 10px rgba(99, 102, 241, 0.2); }
        
        .side-menu-btn { 
            position: fixed; 
            bottom: 30px; 
            right: 30px;
            background: var(--accent); 
            color: white; 
            width: 55px; 
            height: 55px; 
            border-radius: 18px; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            gap: 5px; 
            cursor: pointer; 
            z-index: 1000; 
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4); 
        }
        .side-menu-btn span { display: block; width: 25px; height: 3px; background: white; }
        
        #sideOptions {
            position: fixed; 
            bottom: 95px; 
            right: 30px;
            background: white; 
            padding: 15px; 
            border-radius: 20px; 
            flex-direction: column; 
            gap: 10px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            z-index: 1001;
        }

        .rovex-chat-btn {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 5px 20px rgba(6, 182, 212, 0.5);
            border: 2px solid white;
            font-size: 0.7rem;
            font-weight: bold;
            text-align: center;
            line-height: 1.2;
            transition: transform 0.2s;
        }
        .rovex-chat-btn:hover { transform: scale(1.1); }
        .rovex-chat-btn i { font-size: 1.3rem; margin-bottom: 2px; }

        .chat-window {
            position: fixed;
            bottom: 180px;
            right: 30px;
            width: 320px;
            height: 450px;
            background: var(--card-bg);
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1002;
            border: 2px solid var(--accent);
        }
        .chat-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-header h4 { font-size: 1rem; display: flex; align-items: center; gap: 5px; }
        .chat-header i { color: var(--gold); }
        .close-chat { cursor: pointer; font-size: 1.5rem; background: none; border: none; color: white; }
        .chat-messages { flex: 1; padding: 15px; overflow-y: auto; background: var(--body-bg); display: flex; flex-direction: column; gap: 10px; }
        .message { padding: 12px; border-radius: 18px; max-width: 85%; word-wrap: break-word; font-size: 0.9rem; line-height: 1.4; }
        .user-message { background: var(--accent); color: white; align-self: flex-end; border-bottom-right-radius: 5px; }
        .bot-message { background: var(--card-bg); color: var(--text-color); align-self: flex-start; border-bottom-left-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .chat-input-area { padding: 15px; background: var(--card-bg); border-top: 1px solid #eee; display: flex; gap: 10px; }
        .chat-input-area input { flex: 1; padding: 12px; border: 2px solid #e2e8f0; border-radius: 25px; outline: none; background: var(--body-bg); color: var(--text-color); }
        .chat-input-area input:focus { border-color: var(--accent); }
        .chat-input-area button { background: var(--accent); color: white; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; }
        .suggested-questions { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 10px; }
        .suggested-q { background: rgba(6, 182, 212, 0.1); color: var(--accent); padding: 8px 12px; border-radius: 50px; font-size: 0.75rem; cursor: pointer; border: 1px solid var(--accent); white-space: nowrap; }
        .suggested-q:hover { background: var(--accent); color: white; }
    </style>
</head>
<body>

    <div id="login-page">
        <div class="welcome-page">
            <div class="welcome-card">
                <div class="welcome-logo">
                    <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="Dinislam Logo">
                </div>
                <h1 class="welcome-title">DINISLAM</h1>
                <p style="text-align: center; color: var(--primary); margin-bottom: 25px;">আপনার তথ্য দিন</p>
                
                <input type="text" id="userName" placeholder="আপনার নাম লিখুন" style="width: 100%; padding: 16px; margin-bottom: 15px; border-radius: 15px; border: 2px solid #e2e8f0; text-align: left; font-size: 1rem;">
                <input type="number" id="mobile" placeholder="মোবাইল নম্বর" style="width: 100%; padding: 16px; margin-bottom: 20px; border-radius: 15px; border: 2px solid #e2e8f0; text-align: left; font-size: 1rem;">
                
                <button class="btn-primary" onclick="login()">প্রবেশ করুন</button>
            </div>
        </div>
    </div>

    <div id="welcome-page" style="display:none;">
        <div class="welcome-page">
            <div class="welcome-card">
                <div class="welcome-logo">
                    <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="Dinislam Logo">
                </div>
                
                <div class="user-name-highlight" id="displayUserName"></div>
                
                <div class="welcome-message" id="welcomeMessage">
                    <!-- Dynamic welcome message will be inserted here -->
                </div>
                
                <div class="welcome-buttons">
                    <button class="btn-primary" onclick="enterMainPage()">মূল পৃষ্ঠায় প্রবেশ করুন</button>
                    <button class="btn-secondary" onclick="downloadWelcomePDF()">Download PDF</button>
                </div>
            </div>
        </div>
    </div>

    <div id="dashboard" style="display:none;">
        <header>
            <div onclick="openModal('creator')" style="cursor:pointer; font-size: 0.75rem; background: rgba(255,255,255,0.2); padding: 6px 14px; border-radius: 50px; font-weight: bold;">Creator</div>
            <div class="header-right">
                <h2 style="font-size: 0.85rem; font-weight: 700;">DINISLAM</h2>
                <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg">
            </div>
        </header>

        <div class="container">
            <div class="hero">
                <div class="hero-content">
                    <div class="hero-left">
                        <p>পবিত্র মাহে রমজান</p>
                        <h2>২০২৬</h2>
                    </div>
                    <div class="hero-right">
                        <div class="ramadan-day-label" id="currentDateLabel">আজকে</div>
                        <div class="ramadan-day-number" id="currentDayNumber">৩০</div>
                        <div class="ramadan-day-text" id="currentMonthName">শাবান</div>
                    </div>
                </div>
                <div class="timer">
                    <div class="t-box"><span id="days">০০</span><small>দিন</small></div>
                    <div class="t-box"><span id="hours">০০</span><small>ঘণ্টা</small></div>
                    <div class="t-box"><span id="mins">০০</span><small>মিনিট</small></div>
                    <div class="t-box" style="background:var(--accent); border:none;"><span id="secs" style="color:white;">০০</span><small style="color:white;">সেকেন্ড</small></div>
                </div>
                <div class="eid-label">ঈদুল ফিতর আসতে সময় বাকি</div>
            </div>

            <div class="grid">
                <div class="card" onclick="openModal('cal')"><h3>সূচী</h3></div>
                <div class="card" onclick="openModal('dua')"><h3>দোয়া</h3></div>
                <div class="card" onclick="openModal('tas')"><h3>তসবিহ</h3></div>
                <div class="card" onclick="openModal('zak')"><h3>জাকাত</h3></div>
                <div class="card" onclick="openModal('vid')"><h3>ভিডিও</h3></div>
            </div>
        </div>
    </div>

    <!-- Rovex AI Chatbot -->
    <div class="rovex-chat-btn" onclick="toggleChat()">
        <i class="fas fa-robot"></i>
        <span>Rovex</span>
    </div>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h4><i class="fas fa-star"></i> Rovex (AI Assistant) <i class="fas fa-star"></i></h4>
            <button class="close-chat" onclick="toggleChat()">×</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                আসসালামু আলাইকুম! আমি Rovex, আপনার ইসলামিক সহায়ক। জানতে চান কোনো বিষয়ে?
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" placeholder="আপনার প্রশ্ন লিখুন..." onkeypress="if(event.key==='Enter') sendMessage()">
            <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <div class="side-menu-btn" onclick="toggleSideOptions()">
        <span></span><span></span><span></span>
    </div>
    <div id="sideOptions" style="display:none;">
        <button class="btn" onclick="toggleDarkMode()">Dark Mode</button>
        <button class="btn" style="background:#ef4444;" onclick="logout()">Logout</button>
    </div>

    <div id="modal" class="modal" onclick="if(event.target == this) closeModal()">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">×</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        // --- Schedule & Duas ---
        function generateData(sH, sM, iH, iM) {
            let res = [];
            let dates = ["১৯ ফেব", "২০ ফেব", "২১ ফেব", "২২ ফেব", "২৩ ফেব", "২৪ ফেব", "২৫ ফেব", "২৬ ফেব", "২৭ ফেব", "২৮ ফেব", "০১ মার্চ", "০২ মার্চ", "০৩ মার্চ", "০৪ মার্চ", "০৫ মার্চ", "০৬ মার্চ", "০৭ মার্চ", "০৮ মার্চ", "০৯ মার্চ", "১০ মার্চ", "১১ মার্চ", "১২ মার্চ", "১৩ মার্চ", "১৪ মার্চ", "১৫ মার্চ", "১৬ মার্চ", "১৭ মার্চ", "১৮ মার্চ", "১৯ মার্চ", "২০ মার্চ"];
            for(let i=0; i<30; i++) {
                let sTotal = sM - i; let sHr = sH; if(sTotal < 0) { sHr--; sTotal += 60; }
                let iTotal = iM + i; let iHr = iH; if(iTotal >= 60) { iHr++; iTotal -= 60; }
                res.push({ 
                    r: (i+1).toLocaleString('bn-BD'), 
                    d: dates[i], 
                    s: sHr.toLocaleString('bn-BD')+":"+sTotal.toString().padStart(2,'0').toLocaleString('bn-BD'), 
                    i: iHr.toLocaleString('bn-BD')+":"+iTotal.toString().padStart(2,'0').toLocaleString('bn-BD') 
                });
            }
            return res;
        }

        const ramadanData = {
            'ঢাকা': generateData(5, 19, 18, 5), 'রাজশাহী': generateData(5, 18, 18, 4), 'চট্টগ্রাম': generateData(5, 5, 17, 53),
            'সিলেট': generateData(5, 4, 17, 50), 'খুলনা': generateData(5, 15, 18, 2), 'বরিশাল': generateData(5, 11, 17, 59),
            'রংপুর': generateData(5, 17, 18, 0), 'ময়মনসিংহ': generateData(5, 14, 18, 2)
        };

        const allDuas = [
            {t: "১. চাঁদ দেখার দোয়া", a: "اللَّهُمَّ أَهِلَّهُ عَلَيْنَا بِالْأَمْنِ وَالْإِيمَانِ وَالسَّلَامَةِ وَالْإِسْلَامِ", b: "হে আল্লাহ! এই চাঁদকে আমাদের নিরাপত্তা, ঈমান, শান্তি ও ইসলামের সাথে উদিত করুন।"},
            {t: "২. রোজার নিয়ত", a: "نَوَيْتُ أَنْ أَصُومَ غَدًا لِلّٰهِ تَعَالَى مِنْ شَهْرِ رَمَضَانَ", b: "আগামীকাল রমজান মাসের রোজা রাখার নিয়ত করলাম।"},
            {t: "৩. ইফতারের দোয়া", a: "اللَّهُمَّ لَكَ صُمْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ", b: "হে আল্লাহ! আপনার জন্য রোজা রেখেছি এবং আপনার রিজিকেই ইফতার করছি।"},
            {t: "৪. ইফতারের পর দোয়া", a: "ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ", b: "পিপাসা মিটেছে, শিরাসমূহ সিক্ত হয়েছে এবং আল্লাহ চাইলে পুরস্কার নির্ধারিত হয়েছে।"},
            {t: "৫. লাইলাতুল কদরের দোয়া", a: "اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي", b: "হে আল্লাহ! আপনি ক্ষমাশীল, আপনি ক্ষমা করতে পছন্দ করেন, তাই আমাকে ক্ষমা করুন।"},
            {t: "৬. পিতামাতার দোয়া", a: "رَّبِّ ارْحَمْهُمَا كَمَا رَبَّيَانِي صَغِيرًا", b: "হে আল্লাহ! আমার পিতামাতার প্রতি দয়া করুন যেভাবে তাঁরা শৈশবে আমাকে লালন-পালন করেছেন।"},
            {t: "৭. বিপদের দোয়া", a: "حَسْبُنَا اللَّهُ وَنِعْمَ الْوَكِيلُ", b: "আল্লাহই আমাদের জন্য যথেষ্ট এবং তিনি কতই না উত্তম কর্মবিধায়ক।"},
            {t: "৮. ক্ষমা চাওয়ার দোয়া", a: "أَسْتَغْفِرُ اللَّهَ رَبِّي مِنْ كُلِّ ذَنْبٍ وَأَتُوبُ إِلَيْهِ", b: "আমি আমার রবের কাছে সব গুনাহের ক্ষমা চাই এবং তাঁর দিকেই ফিরে আসছি।"},
            {t: "৯. রিযিকের দোয়া", a: "اللَّهُمَّ ارْزُقْنِي رِزْقًا حَلَالًا طَيِّبًا", b: "হে আল্লাহ! আমাকে হালাল ও পবিত্র রিযিক দান করুন।"},
            {t: "১০. জাহান্নাম থেকে মুক্তি", a: "اللَّهُمَّ أَجِرْنِي مِنَ النَّارِ", b: "হে আল্লাহ! আমাকে জাহান্নামের আগুন থেকে রক্ষা করুন।"},
            {t: "১১. ওযুর আগের দোয়া", a: "بِسْمِ اللَّهِ", b: "আল্লাহর নামে শুরু করছি।"},
            {t: "১২. ওযুর পরের দোয়া", a: "أَشْهَدُ أَنْ لَا إِلَهَ إِلَّا اللَّهُ وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ", b: "আমি সাক্ষ্য দিচ্ছি আল্লাহ ছাড়া কোনো মাবুদ নেই এবং মুহাম্মদ (সা.) তাঁর বান্দা ও রাসূল।"},
            {t: "১৩. মসজিদে প্রবেশের দোয়া", a: "اللَّهُمَّ افْتَحْ لِي أَبْوَابَ رَحْمَتِكَ", b: "হে আল্লাহ! আমার জন্য আপনার রহমতের দরজাগুলো খুলে দিন।"},
            {t: "১৪. মসজিদ থেকে বের হওয়ার দোয়া", a: "اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ", b: "হে আল্লাহ! আমি আপনার অনুগ্রহ প্রার্থনা করছি।"},
            {t: "১৫. আয়না দেখার দোয়া", a: "اللَّهُمَّ حَسَّنتَ خَلْقِي فَحَسِّنْ خُلُقِي", b: "হে আল্লাহ! আপনি আমার অবয়ব সুন্দর করেছেন, আমার চরিত্রও সুন্দর করে দিন।"},
            {t: "১৬. সফরের দোয়া", a: "سُبْحَانَ الَّذِي سَخَّرَ لَنَا هَذَا وَمَا كُنَّا لَهُ مُقْرِنِينَ", b: "পবিত্র সেই সত্তা যিনি একে আমাদের বশীভূত করেছেন, অথচ আমরা একে বশ করতে সক্ষম ছিলাম না।"},
            {t: "১৭. খাওয়ার আগের দোয়া", a: "بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ", b: "আল্লাহর নামে এবং আল্লাহর বরকতের ওপর ভরসা করে শুরু করছি।"},
            {t: "১৮. খাওয়ার পরের দোয়া", a: "الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا وَجَعَلَنَا مُسْلِمِينَ", b: "সব প্রশংসা আল্লাহর, যিনি আমাদের খাইয়েছেন, পান করিয়েছেন এবং মুসলিম বানিয়েছেন।"},
            {t: "১৯. ঘুমানোর দোয়া", a: "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا", b: "হে আল্লাহ! আপনার নাম নিয়েই আমি মৃত্যুবরণ করি (ঘুমাই) এবং জীবিত হই।"},
            {t: "২০. ঘুম থেকে ওঠার দোয়া", a: "الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ", b: "সব প্রশংসা আল্লাহর, যিনি আমাদের মৃত্যুর পর জীবিত করলেন এবং তাঁর দিকেই ফিরে যেতে হবে।"},
            {t: "২১. বাথরুম প্রবেশের দোয়া", a: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبُثِ وَالْخَبَائِثِ", b: "হে আল্লাহ! আমি অপবিত্র জিন-শয়তান থেকে আপনার আশ্রয় চাই।"},
            {t: "২২. বাথরুম থেকে বের হওয়ার দোয়া", a: "غُفْرَانَكَ", b: "হে আল্লাহ! আমি আপনার কাছে ক্ষমা প্রার্থনা করছি।"},
            {t: "২৩. নতুন কাপড় পরার দোয়া", a: "الْحَمْدُ لِلَّهِ الَّذِي كَسَانِي هَذَا", b: "সব প্রশংসা আল্লাহর, যিনি আমাকে এই কাপড়টি পরিয়েছেন।"},
            {t: "২৪. রাগ দমনের দোয়া", a: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ", b: "বিতাড়িত শয়তান থেকে আল্লাহর কাছে আশ্রয় চাচ্ছি।"},
            {t: "২৫. বৃষ্টির দোয়া", a: "اللَّهُمَّ صَيِّبًا نَافِعًا", b: "হে আল্লাহ! আমাদের জন্য উপকারী বৃষ্টি দান করুন।"},
            {t: "২৬. বজ্রপাতের সময় দোয়া", a: "سُبْحَانَ الَّذِي يُسَبِّحُ الرَّعْدُ بِحَمْدِهِ", b: "পবিত্র সেই সত্তা, যাঁর প্রশংসা বজ্র পাঠ করে।"},
            {t: "২৭. সিজদার দোয়া", a: "سُبْحَانَ رَبِّيَ الْأَعْلَى", b: "আমার মহান রবের পবিত্রতা ঘোষণা করছি।"},
            {t: "২৮. রুকুর দোয়া", a: "سُبْحَانَ رَبِّيَ الْعَظِيمِ", b: "আমার সুমহান রবের পবিত্রতা ঘোষণা করছি।"},
            {t: "২৯. নামাজের শেষে দোয়া", a: "رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً وَفِي الْآخِرَةِ حَسَنَةً", b: "হে আমাদের রব! আমাদের দুনিয়া ও আখেরাতে কল্যাণ দান করুন।"},
            {t: "৩০. সালাম ফেরানোর দোয়া", a: "السَّلَامُ عَلَيْكُمْ وَرَحْمَةُ اللَّهِ", b: "আপনাদের ওপর শান্তি ও আল্লাহর রহমত বর্ষিত হোক।"}
        ];

        let tasCount = parseInt(localStorage.getItem('tasCount')) || 0;
        let generalTasCount = parseInt(localStorage.getItem('generalTasCount')) || 0;
        let currentTasMode = 'regular';
        let currentUserName = '';

        function login() {
            const name = document.getElementById('userName').value.trim();
            const mobile = document.getElementById('mobile').value.trim();
            
            if(name && mobile.length >= 6) {
                currentUserName = name;
                localStorage.setItem('userName', name);
                localStorage.setItem('userMobile', mobile);
                
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('welcome-page').style.display = 'block';
                
                displayWelcomeMessage(name);
            } else {
                alert('অনুগ্রহ করে আপনার নাম এবং সঠিক মোবাইল নম্বর দিন');
            }
        }

        function displayWelcomeMessage(name) {
            document.getElementById('displayUserName').innerText = name;
            
            const hours = new Date().getHours();
            let greeting = '';
            
            if(hours >= 5 && hours < 12) greeting = 'শুভ সকাল';
            else if(hours >= 12 && hours < 17) greeting = 'শুভ বিকাল';
            else greeting = 'শুভ সন্ধ্যা';
            
            const message = `
                <p>${greeting} ${name},</p>
                <p>DINISLAM প্ল্যাটফর্মে আপনাকে স্বাগতম। এই পবিত্র মাস রমজানে আপনার ইবাদত-বন্দেগি যেন সহজ ও সুন্দর হয়, সেজন্য আমাদের এই ক্ষুদ্র প্রয়াস।</p>
                <p>আপনার জন্য রইল রমজানের সেহরি ও ইফতারের সময়সূচি, দোয়া, তসবিহ এবং জাকাত ক্যালকুলেটরসহ প্রয়োজনীয় সব তথ্য।</p>
                <p>আশা করি পুরো মাসটি আপনি সুন্দরভাবে অতিবাহিত করতে পারবেন। আল্লাহ আপনার সব নেক কাজ কবুল করুন।</p>
            `;
            
            document.getElementById('welcomeMessage').innerHTML = message;
        }

        function enterMainPage() {
            document.getElementById('welcome-page').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
        }

        function downloadWelcomePDF() {
            // Create a simple PDF download simulation
            const name = currentUserName || localStorage.getItem('userName');
            const content = `
                DINISLAM - রমজান ২০২৬
                ------------------------
                প্রিয় ${name},
                
                আপনাকে স্বাগতম DINISLAM প্ল্যাটফর্মে।
                
                রমজান মাসের সময়সূচি, দোয়া, তসবিহ ও জাকাত ক্যালকুলেটর পেতে আমাদের অ্যাপ ব্যবহার করুন।
                
                আপনার জন্য রইল আন্তরিক দোয়া - আল্লাহ আপনার সব নেক কাজ কবুল করুন এবং রমজানের পুরো মাস আপনি সুস্থ ও সুন্দরভাবে অতিবাহিত করতে পারেন।
                
                ধন্যবাদ।
                শামিউল ইসলাম বর্ষন
                ক্রিয়েটর, DINISLAM
            `;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `DINISLAM_Welcome_${name}.txt`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function openModal(type) {
            const body = document.getElementById('modal-body');
            document.getElementById('modal').style.display = 'flex';
            
            if(type === 'cal') {
                let h = '<h3>বিভাগ নির্বাচন করুন</h3>';
                Object.keys(ramadanData).forEach(div => h += `<button class="btn" onclick="showTable('${div}')">${div} বিভাগ</button>`);
                body.innerHTML = h;
            } else if(type === 'dua') {
                let h = '<h3 style="margin-bottom:15px;">৩০টি গুরুত্বপূর্ণ দোয়া</h3>';
                allDuas.forEach(d => h += `<div class="dua-card"><b>${d.t}</b><p class="ar">${d.a}</p><p><i>${d.b}</i></p></div>`);
                body.innerHTML = h;
            } else if(type === 'tas') {
                renderTasUI();
            } else if(type === 'zak') {
                body.innerHTML = `<h3>জাকাত ক্যালকুলেটর</h3><input type="number" id="cash" class="btn" style="background:white; color:black; border:1px solid #ddd;" placeholder="মোট সম্পদ লিখুন" oninput="liveZak()"><div class="hero" style="margin-top:15px;"><small>আপনার জাকাত</small><h2 id="zRes">৳ ০</h2></div>`;
            } else if(type === 'creator') {
                showPremiumCreator();
            } else if(type === 'vid') {
                showVideoSearch();
            }
        }

        function showTable(div) {
            let h = `<h3>${div} সূচী</h3><table><tr><th>রমজান</th><th>তারিখ</th><th>সেহরি</th><th>ইফতার</th></tr>`;
            ramadanData[div].forEach(r => h += `<tr><td>${r.r}</td><td>${r.d}</td><td style="color:red">${r.s}</td><td style="color:blue">${r.i}</td></tr>`);
            document.getElementById('modal-body').innerHTML = h + `</table><button class="btn" onclick="openModal('cal')">ফিরে যান</button>`;
        }

        function showPremiumCreator() {
            const body = document.getElementById('modal-body');
            body.innerHTML = `
                <div class="premium-creator">
                    <div class="creator-header">
                        <div class="creator-avatar">
                            <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="Shamiul Islam Borson">
                        </div>
                        <h2 class="creator-name-premium">Shamiul Islam Borson</h2>
                        <div class="creator-badge">
                            <i class="fas fa-crown"></i>
                            <span>CREATOR</span>
                            <i class="fas fa-crown"></i>
                        </div>
                    </div>
                    
                    <div class="creator-content">
                        <div class="creator-quote">
                            <i class="fas fa-quote-right"></i> 
                            Building meaningful digital experiences for the Ummah
                        </div>
                        
                        <div class="creator-message">
                            <p><span class="creator-highlight">DINISLAM</span> was created by <strong>Shamiul Islam Borson</strong>. It is designed as a compact and complete guide for the holy month of Ramadan.</p>
                            
                            <p>The purpose of this website is to provide essential Ramadan-related information in one convenient place, making it easy for users to access everything they need.</p>
                            
                            <p>Through this platform, I have tried to help people use their mobile phones for meaningful and beneficial purposes. Instead of spending time on unproductive activities, users can now access prayer times, guidance, duas, and important Ramadan instructions directly from their devices.</p>
                            
                            <p>This website is built with the intention of spreading knowledge, encouraging good deeds, and making Ramadan more organized and spiritually enriching for everyone.</p>
                            
                            <p style="font-weight: 700; color: var(--accent);">May it be beneficial for all who use it.</p>
                        </div>
                        
                        <div class="creator-stats">
                            <div class="stat-item">
                                <div class="stat-value">১০+</div>
                                <div class="stat-label">Projects</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">৫০০+</div>
                                <div class="stat-label">Users</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">২৪/৭</div>
                                <div class="stat-label">Support</div>
                            </div>
                        </div>
                        
                        <div class="creator-footer">
                            <a href="https://fb.com/SI.Borson1" target="_blank" class="fb-btn-premium">
                                <i class="fab fa-facebook-f"></i> Facebook Profile
                            </a>
                            
                            <div class="social-links">
                                <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                                <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                                <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function showVideoSearch() {
            const body = document.getElementById('modal-body');
            body.innerHTML = `
                <h3>YouTube ভিডিও সার্চ</h3>
                <div class="search-container" style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <input type="text" id="searchQuery" class="search-input" placeholder="কিভাবে রোজা রাখবেন, দোয়া, তাসবিহ..." style="flex: 1; padding: 15px; border-radius: 15px; border: 2px solid #e2e8f0; background: var(--card-bg); color: var(--text-color);">
                    <button class="search-btn" onclick="searchVideos()" style="background: var(--accent); color: white; border: none; padding: 0 25px; border-radius: 15px; font-weight: bold; cursor: pointer;">🔍</button>
                </div>
                <div id="videoResults" class="video-grid"></div>
                <div id="videoPlayer" style="display:none; margin-top:20px;">
                    <div id="playerContainer"></div>
                    <button class="back-btn" onclick="showVideoSearch()" style="background: var(--secondary); color: white; border: none; padding: 12px; border-radius: 12px; cursor: pointer; font-weight: bold; margin-top: 15px; width: 100%;">ফিরে যান</button>
                </div>
            `;
        }

        function searchVideos() {
            const query = document.getElementById('searchQuery').value;
            if(!query.trim()) return;
            
            const resultsDiv = document.getElementById('videoResults');
            const playerDiv = document.getElementById('videoPlayer');
            if(playerDiv) playerDiv.style.display = 'none';
            
            resultsDiv.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:30px;">⏳ খোঁজা হচ্ছে...</div>';
            
            const apiKey = 'AIzaSyArgYYff2pvPL-MDuHNtqOIN-uMw5vkIeg';
            
            fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=${encodeURIComponent(query)}&type=video&key=${apiKey}`)
                .then(res => res.json())
                .then(data => {
                    if(data.error) {
                        resultsDiv.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:30px;">❌ API ত্রুটি: ${data.error.message}</div>`;
                        return;
                    }
                    
                    let html = '';
                    data.items.forEach(item => {
                        const videoId = item.id.videoId;
                        const title = item.snippet.title;
                        const channel = item.snippet.channelTitle;
                        const thumb = item.snippet.thumbnails.medium.url;
                        
                        html += `
                            <div class="video-card" onclick="playVideo('${videoId}', '${title.replace(/'/g, "\\'")}')">
                                <img src="${thumb}" class="video-thumb" alt="${title}">
                                <div class="video-info">
                                    <div class="video-title">${title}</div>
                                    <div class="video-channel">${channel}</div>
                                </div>
                            </div>
                        `;
                    });
                    resultsDiv.innerHTML = html || '<div style="grid-column:1/-1; text-align:center;">কোনো ভিডিও পাওয়া যায়নি</div>';
                })
                .catch(err => {
                    resultsDiv.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:30px;">❌ ত্রুটি: ${err.message}</div>`;
                });
        }

        function playVideo(videoId, title) {
            const resultsDiv = document.getElementById('videoResults');
            const playerDiv = document.getElementById('videoPlayer');
            const playerContainer = document.getElementById('playerContainer');
            
            if(resultsDiv) resultsDiv.style.display = 'none';
            if(playerDiv) {
                playerDiv.style.display = 'block';
                playerContainer.innerHTML = `
                    <h4 style="margin-bottom:15px;">${title}</h4>
                    <iframe width="100%" height="250" src="https://www.youtube.com/embed/${videoId}" frameborder="0" style="border-radius:20px;" allowfullscreen></iframe>
                `;
            }
        }

        function renderTasUI() {
            const body = document.getElementById('modal-body');
            body.innerHTML = `
                <div class="tasbih-container">
                    <div class="tasbih-tabs">
                        <button class="tasbih-tab-btn ${currentTasMode==='regular'?'active':''}" onclick="switchTasMode('regular')">নিয়মিত</button>
                        <button class="tasbih-tab-btn ${currentTasMode==='general'?'active':''}" onclick="switchTasMode('general')">সাধারণ</button>
                    </div>
                    
                    <div class="tasbih-display">
                        <svg class="progress-ring-svg">
                            <circle class="progress-ring-bg" cx="120" cy="120" r="110"></circle>
                            <circle class="progress-ring-circle" id="pBar" cx="120" cy="120" r="110"></circle>
                        </svg>
                        <div class="tasbih-main" onclick="handleTasClick()">
                            <h1 id="tVal" class="t-count">${currentTasMode==='regular'?tasCount:generalTasCount}</h1>
                            <p id="targetLabel" class="t-label">${currentTasMode==='regular'?getRegularLabel(tasCount):'TASBIH'}</p>
                        </div>
                    </div>
                    
                    <div class="tasbih-footer-btns">
                        <button class="btn" style="background:#f43f5e;" onclick="resetCurrentTas()">রিসেট করুন</button>
                    </div>
                </div>`;
            updateTasProgress();
        }

        function switchTasMode(mode) { currentTasMode = mode; renderTasUI(); }

        function handleTasClick() {
            if(currentTasMode === 'regular') {
                tasCount++; localStorage.setItem('tasCount', tasCount);
                document.getElementById('tVal').innerText = tasCount;
                document.getElementById('targetLabel').innerText = getRegularLabel(tasCount);
            } else {
                generalTasCount++; localStorage.setItem('generalTasCount', generalTasCount);
                document.getElementById('tVal').innerText = generalTasCount;
            }
            updateTasProgress();
            if('vibrate' in navigator) navigator.vibrate(50);
        }

        function getRegularLabel(count) {
            let c = count % 100;
            if(count === 0) return "SubhanAllah";
            if(c > 0 && c <= 33) return "SubhanAllah";
            if(c > 33 && c <= 66) return "Alhamdulillah";
            if(c > 66 && c < 100) return "Allahu Akbar";
            if(c === 0 && count > 0) return "Allahu Akbar";
            return "SubhanAllah";
        }

        function resetCurrentTas() {
            if(confirm('আপনি কি তসবিহ রিসেট করতে চান?')) {
                if(currentTasMode === 'regular') { tasCount = 0; localStorage.setItem('tasCount', 0); }
                else { generalTasCount = 0; localStorage.setItem('generalTasCount', 0); }
                renderTasUI();
            }
        }

        function updateTasProgress() {
            const bar = document.getElementById('pBar');
            if(!bar) return;
            let count, max;
            if(currentTasMode === 'regular') {
                count = (tasCount % 33);
                if(tasCount > 0 && tasCount % 33 === 0) count = 33;
                max = 33;
            } else {
                count = (generalTasCount % 100);
                if(generalTasCount > 0 && generalTasCount % 100 === 0) count = 100;
                max = 100;
            }
            const radius = 110;
            const circumference = 2 * Math.PI * radius;
            bar.style.strokeDasharray = circumference;
            const offset = circumference - (count / max) * circumference;
            bar.style.strokeDashoffset = offset;
        }

        function updateCurrentDate() {
            const today = new Date();
            const ramadanStart = new Date("February 19, 2026 00:00:00").getTime();
            const todayTime = today.getTime();
            
            const diffTime = ramadanStart - todayTime;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            const dateLabel = document.getElementById('currentDateLabel');
            const dayNumber = document.getElementById('currentDayNumber');
            const monthName = document.getElementById('currentMonthName');
            
            if(diffDays === 1) {
                dateLabel.innerText = 'আগামীকাল';
                dayNumber.innerText = '১';
                monthName.innerText = 'রমজান';
            } else if(diffDays === 0) {
                dateLabel.innerText = 'আজকে';
                dayNumber.innerText = '১';
                monthName.innerText = 'রমজান';
            } else if(diffDays < 0) {
                const ramadanDay = Math.abs(diffDays) + 1;
                dateLabel.innerText = 'আজকে';
                dayNumber.innerText = ramadanDay.toLocaleString('bn-BD');
                monthName.innerText = 'রমজান';
            } else {
                dateLabel.innerText = 'আজকে';
                dayNumber.innerText = (29 - diffDays + 1).toLocaleString('bn-BD');
                monthName.innerText = 'শাবান';
            }
        }

        function liveZak() { document.getElementById('zRes').innerText = "৳ " + Math.floor((document.getElementById('cash').value || 0) * 0.025).toLocaleString('bn-BD'); }
        function toggleSideOptions() { const s = document.getElementById('sideOptions'); s.style.display = s.style.display === 'flex' ? 'none' : 'flex'; }
        function toggleDarkMode() { document.body.classList.toggle('dark-mode'); }
        function logout() { localStorage.clear(); location.reload(); }
        function closeModal() { document.getElementById('modal').style.display = 'none'; }

        function startTimer() {
            const target = new Date("March 20, 2026 18:15:00").getTime();
            setInterval(() => {
                const diff = target - new Date().getTime();
                if(document.getElementById('days')){
                    document.getElementById('days').innerText = Math.max(0, Math.floor(diff / (1000*60*60*24))).toLocaleString('bn-BD');
                    document.getElementById('hours').innerText = Math.max(0, Math.floor((diff % (1000*60*60*24)) / (1000*60*60))).toLocaleString('bn-BD');
                    document.getElementById('mins').innerText = Math.max(0, Math.floor((diff % (1000*60*60)) / (1000*60))).toLocaleString('bn-BD');
                    document.getElementById('secs').innerText = Math.max(0, Math.floor((diff % (1000*60)) / 1000)).toLocaleString('bn-BD');
                }
                updateCurrentDate();
            }, 1000);
        }

        // Groq AI Chatbot Functions
        const GROQ_API_KEY = "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";
        const GROQ_API_URL = "https://api.groq.com/openai/v1/chat/completions";

        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            if (chatWindow.style.display === 'flex') {
                chatWindow.style.display = 'none';
            } else {
                chatWindow.style.display = 'flex';
                displaySuggestedQuestions();
            }
        }

        function displaySuggestedQuestions() {
            const chatMessages = document.getElementById('chatMessages');
            if (!document.querySelector('.suggested-questions')) {
                const suggestionsDiv = document.createElement('div');
                suggestionsDiv.className = 'suggested-questions';
                suggestionsDiv.innerHTML = `
                    <span class="suggested-q" onclick="sendSuggestedQuestion('রোজার সঠিক নিয়ম কী?')">রোজার নিয়ম</span>
                    <span class="suggested-q" onclick="sendSuggestedQuestion('ইফতারের দোয়া কী?')">ইফতারের দোয়া</span>
                    <span class="suggested-q" onclick="sendSuggestedQuestion('সেহরির সময় কখন?')">সেহরির সময়</span>
                    <span class="suggested-q" onclick="sendSuggestedQuestion('তাহাজ্জুদ নামাজের নিয়ম?')">তাহাজ্জুদ</span>
                `;
                chatMessages.appendChild(suggestionsDiv);
            }
        }

        function sendSuggestedQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'message bot-message';
            typingDiv.innerHTML = '<i>Rovex টাইপ করছে...</i>';
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeTypingIndicator() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (message === '') return;

            const chatMessages = document.getElementById('chatMessages');
            
            const suggestedDiv = document.querySelector('.suggested-questions');
            if (suggestedDiv) suggestedDiv.remove();

            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'message user-message';
            userMessageDiv.innerText = message;
            chatMessages.appendChild(userMessageDiv);

            chatMessages.scrollTop = chatMessages.scrollHeight;
            input.value = '';

            showTypingIndicator();

            const botResponse = await getGroqResponse(message);
            
            removeTypingIndicator();

            const botMessageDiv = document.createElement('div');
            botMessageDiv.className = 'message bot-message';
            botMessageDiv.innerText = botResponse;
            chatMessages.appendChild(botMessageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function getGroqResponse(userMessage) {
            try {
                const response = await fetch(GROQ_API_URL, {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${GROQ_API_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: "llama-3.3-70b-versatile",
                        messages: [
                            {
                                role: "system",
                                content: `তুমি "Rovex" নামের একটি ইসলামিক AI সহায়ক। 
                                তুমি Dinislam ওয়েবসাইটের অংশ। 
                                সবসময় বাংলায় উত্তর দাও। 
                                কুরআন ও হাদিসের আলোকে নির্ভুল তথ্য দাও।
                                উত্তর সংক্ষিপ্ত ও সহজবোধ্য হবে।`
                            },
                            {
                                role: "user",
                                content: userMessage
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 1024
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    console.error("API Error:", data.error);
                    return getFallbackResponse(userMessage);
                }
                
                return data.choices[0].message.content;
                
            } catch (error) {
                console.error("Network Error:", error);
                return getFallbackResponse(userMessage);
            }
        }

        function getFallbackResponse(message) {
            const msg = message.toLowerCase();
            
            if (msg.includes('রোজা') || msg.includes('রোযা')) {
                return "রোজা ইসলামের তৃতীয় স্তম্ভ। রমজান মাসের রোজা প্রতিটি সুস্থ, প্রাপ্তবয়স্ক মুসলমানের উপর ফরজ। রোজা রাখার নিয়ত: 'নাওয়াইতু আন আছুমা গাদাল লিল্লাহি তা'আলা মিন শাহরি রমাদান।'";
            } else if (msg.includes('ইফতার')) {
                return "ইফতারের দোয়া: 'আল্লাহুম্মা লাকা ছুমতু ওয়া আলা রিযক্বিকা আফতারতু।' অর্থ: 'হে আল্লাহ! আমি আপনার জন্য রোজা রেখেছি এবং আপনার দেওয়া রিযিক দিয়ে ইফতার করছি।'";
            } else if (msg.includes('সেহরি')) {
                return "সেহরি খাওয়া সুন্নত। সেহরির শেষ সময় সুবহে সাদিক। আজকের সেহরির সময় দেখতে 'সূচী' মেনুতে ক্লিক করুন।";
            } else if (msg.includes('দোয়া')) {
                return "আপনার প্রয়োজনীয় দোয়া পেতে 'দোয়া' মেনুতে ক্লিক করুন। সেখানে ৩০টি গুরুত্বপূর্ণ দোয়া দেওয়া আছে।";
            } else {
                return "আপনার প্রশ্নের জন্য ধন্যবাদ। দয়া করে আরেকটু স্পেসিফিক করে বলুন। যেমন: 'রোজার নিয়ম', 'ইফতারের দোয়া', 'সেহরির সময়' ইত্যাদি। অথবা উপরের মেনু থেকে আপনার প্রয়োজনীয় তথ্য দেখুন।";
            }
        }

        window.onload = () => { 
            if(localStorage.getItem('userMobile') && localStorage.getItem('userName')) { 
                document.getElementById('login-page').style.display = 'none'; 
                document.getElementById('welcome-page').style.display = 'block';
                displayWelcomeMessage(localStorage.getItem('userName'));
            } 
            startTimer(); 
        };
    </script>
</body>
</html>
