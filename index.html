<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DINISLAM · রমজান ২০২৬</title>
    <!-- Professional fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Hind+Siliguri:wght@300;400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Reset and Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Hind Siliguri', sans-serif;
            background: #F8FAFC;
            color: #1E293B;
            line-height: 1.6;
        }

        /* Professional Color System */
        :root {
            --primary-900: #0F2F2C;
            --primary-800: #1A4742;
            --primary-700: #255F58;
            --primary-600: #2F776E;
            --primary-500: #3A8F84;
            
            --neutral-50: #F8FAFC;
            --neutral-100: #F1F5F9;
            --neutral-200: #E2E8F0;
            --neutral-300: #CBD5E1;
            --neutral-400: #94A3B8;
            --neutral-500: #64748B;
            --neutral-600: #475569;
            --neutral-700: #334155;
            --neutral-800: #1E293B;
            --neutral-900: #0F172A;
            
            --accent-500: #B4533A;
            --accent-600: #9A3F2A;
            
            --success-500: #2F776E;
            
            --surface-white: #FFFFFF;
            --surface-light: #F8FAFC;
            --border-light: #E2E8F0;
        }

        .dark-mode {
            --primary-900: #E2E8F0;
            --primary-800: #CBD5E1;
            --primary-700: #94A3B8;
            --primary-600: #64748B;
            --primary-500: #475569;
            
            --neutral-50: #0F172A;
            --neutral-100: #1E293B;
            --neutral-200: #334155;
            --neutral-300: #475569;
            --neutral-400: #64748B;
            --neutral-500: #94A3B8;
            --neutral-600: #CBD5E1;
            --neutral-700: #E2E8F0;
            --neutral-800: #F1F5F9;
            --neutral-900: #F8FAFC;
            
            --surface-white: #1E293B;
            --surface-light: #0F172A;
            --border-light: #334155;
            
            background: #0F172A;
            color: #F1F5F9;
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Login Page */
        .login-page {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-900) 0%, var(--primary-700) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .login-card {
            background: var(--surface-white);
            border-radius: 24px;
            padding: 48px;
            width: 100%;
            max-width: 480px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .logo-container {
            text-align: center;
            margin-bottom: 32px;
        }

        .logo-image {
            width: 96px;
            height: 96px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-500);
            margin-bottom: 16px;
        }

        .logo-text {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: -0.02em;
            color: var(--neutral-800);
        }

        .logo-text span {
            color: var(--accent-500);
        }

        /* Form Elements */
        .input-field {
            width: 100%;
            padding: 16px 20px;
            margin-bottom: 16px;
            border: 1px solid var(--border-light);
            border-radius: 12px;
            font-family: 'Inter', 'Hind Siliguri', sans-serif;
            font-size: 16px;
            background: var(--surface-white);
            color: var(--neutral-800);
            transition: all 0.2s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px rgba(58, 143, 132, 0.1);
        }

        .btn {
            display: inline-block;
            width: 100%;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-family: 'Inter', 'Hind Siliguri', sans-serif;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary-600);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-700);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--primary-600);
            color: var(--primary-600);
        }

        .btn-secondary:hover {
            background: var(--primary-50);
        }

        /* Welcome Page */
        .welcome-page {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-900) 0%, var(--primary-700) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .welcome-card {
            background: var(--surface-white);
            border-radius: 24px;
            padding: 48px;
            width: 100%;
            max-width: 560px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .welcome-name {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-600);
            margin-bottom: 16px;
            text-align: center;
        }

        .welcome-message {
            background: var(--surface-light);
            border-left: 4px solid var(--accent-500);
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
            color: var(--neutral-700);
            line-height: 1.8;
        }

        /* Header */
        .header {
            background: var(--surface-white);
            border-bottom: 1px solid var(--border-light);
            padding: 16px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            padding: 8px 20px;
            background: var(--surface-light);
            border-radius: 40px;
            font-weight: 500;
            color: var(--neutral-600);
            cursor: pointer;
            transition: all 0.2s;
        }

        .header-left:hover {
            background: var(--neutral-200);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 4px 16px 4px 4px;
            background: var(--surface-light);
            border-radius: 40px;
        }

        .header-right img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--primary-500);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-800) 0%, var(--primary-600) 100%);
            border-radius: 24px;
            padding: 32px;
            margin: 32px 0;
            color: white;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 32px;
            align-items: center;
        }

        .hero-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .hero-year {
            font-size: 48px;
            font-weight: 700;
            line-height: 1.2;
        }

        .hero-date-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 24px 32px;
            border-radius: 16px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .hero-day-number {
            font-size: 64px;
            font-weight: 700;
            line-height: 1;
            color: white;
        }

        .hero-day-label {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 4px;
        }

        /* Timer */
        .timer-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 24px;
        }

        .timer-item {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(4px);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timer-number {
            font-size: 32px;
            font-weight: 700;
            line-height: 1;
            color: white;
        }

        .timer-label {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin: 32px 0;
        }

        .dashboard-card {
            background: var(--surface-white);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .dashboard-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
            border-color: var(--primary-500);
        }

        .card-icon {
            font-size: 24px;
            color: var(--primary-600);
            margin-bottom: 12px;
        }

        .card-title {
            font-weight: 600;
            color: var(--neutral-800);
            font-size: 16px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .modal-content {
            background: var(--surface-white);
            border-radius: 24px;
            width: 100%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            padding: 32px;
        }

        .modal-close {
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 24px;
            color: var(--neutral-400);
            cursor: pointer;
            transition: color 0.2s;
        }

        .modal-close:hover {
            color: var(--neutral-600);
        }

        /* Tables */
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 24px;
        }

        .schedule-table th {
            background: var(--surface-light);
            color: var(--neutral-700);
            font-weight: 600;
            font-size: 14px;
            padding: 16px;
            text-align: center;
            border-bottom: 2px solid var(--border-light);
        }

        .schedule-table td {
            padding: 14px 16px;
            text-align: center;
            border-bottom: 1px solid var(--border-light);
            color: var(--neutral-700);
        }

        .schedule-table tr:hover {
            background: var(--surface-light);
        }

        /* Dua Cards */
        .dua-card {
            background: var(--surface-light);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 16px;
            border-left: 4px solid var(--primary-500);
        }

        .dua-title {
            font-weight: 600;
            color: var(--neutral-800);
            margin-bottom: 12px;
            font-size: 18px;
        }

        .dua-arabic {
            font-family: 'Noto Naskh Arabic', serif;
            font-size: 20px;
            text-align: right;
            direction: rtl;
            color: var(--neutral-800);
            margin: 16px 0;
            line-height: 1.8;
        }

        .dua-bangla {
            color: var(--neutral-600);
            font-size: 16px;
        }

        /* Tasbih */
        .tasbih-container {
            background: var(--surface-light);
            border-radius: 24px;
            padding: 32px;
            text-align: center;
        }

        .tasbih-tabs {
            display: flex;
            gap: 8px;
            background: var(--neutral-200);
            padding: 4px;
            border-radius: 40px;
            margin-bottom: 32px;
        }

        .tasbih-tab {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 40px;
            font-weight: 500;
            background: transparent;
            color: var(--neutral-600);
            cursor: pointer;
            transition: all 0.2s;
        }

        .tasbih-tab.active {
            background: var(--surface-white);
            color: var(--primary-600);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .tasbih-counter {
            width: 240px;
            height: 240px;
            margin: 0 auto 24px;
            position: relative;
            cursor: pointer;
        }

        .tasbih-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: var(--surface-white);
            border: 4px solid var(--primary-500);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
        }

        .tasbih-count {
            font-size: 56px;
            font-weight: 700;
            color: var(--neutral-800);
            line-height: 1;
        }

        .tasbih-label {
            font-size: 16px;
            color: var(--neutral-500);
            margin-top: 8px;
        }

        .progress-ring {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-ring circle {
            fill: transparent;
            stroke: var(--primary-500);
            stroke-width: 8;
            stroke-dasharray: 754;
            stroke-dashoffset: 754;
            transition: stroke-dashoffset 0.2s;
        }

        /* Creator Profile */
        .creator-profile {
            text-align: center;
        }

        .creator-header {
            background: linear-gradient(135deg, var(--primary-800) 0%, var(--primary-600) 100%);
            padding: 40px;
            border-radius: 16px;
            color: white;
            margin-bottom: 24px;
        }

        .creator-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid white;
            margin: 0 auto 16px;
            object-fit: cover;
        }

        .creator-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .creator-title {
            font-size: 14px;
            opacity: 0.9;
            letter-spacing: 1px;
        }

        .creator-bio {
            background: var(--surface-light);
            border-left: 4px solid var(--primary-500);
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
            text-align: left;
            color: var(--neutral-700);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 24px 0;
        }

        .stat-item {
            background: var(--surface-light);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-600);
        }

        .stat-label {
            font-size: 12px;
            color: var(--neutral-500);
            margin-top: 4px;
        }

        .social-links {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin: 24px 0;
        }

        .social-link {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--surface-light);
            color: var(--neutral-600);
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.2s;
        }

        .social-link:hover {
            background: var(--primary-500);
            color: white;
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .video-item {
            background: var(--surface-light);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s;
        }

        .video-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
        }

        .video-thumb {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .video-info {
            padding: 12px;
        }

        .video-title {
            font-weight: 500;
            color: var(--neutral-800);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .video-channel {
            font-size: 12px;
            color: var(--neutral-500);
        }

        /* ROVEX Chat */
        .chat-button {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            border-radius: 32px;
            background: var(--primary-600);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 90;
            border: 2px solid white;
            transition: all 0.2s;
        }

        .chat-button:hover {
            transform: scale(1.05);
            background: var(--primary-700);
        }

        .chat-button i {
            font-size: 24px;
        }

        .chat-button span {
            font-size: 10px;
            font-weight: 600;
            margin-top: 2px;
        }

        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 360px;
            height: 520px;
            background: var(--surface-white);
            border-radius: 24px;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 91;
            box-shadow: 0 20px 40px -8px rgba(0, 0, 0, 0.25);
            border: 1px solid var(--border-light);
        }

        .chat-header {
            background: var(--primary-600);
            color: white;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h4 {
            font-weight: 600;
            font-size: 16px;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            line-height: 1;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--surface-light);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .message {
            padding: 14px 16px;
            border-radius: 16px;
            max-width: 85%;
            font-size: 14px;
            line-height: 1.5;
        }

        .user-message {
            background: var(--primary-500);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .bot-message {
            background: var(--surface-white);
            color: var(--neutral-700);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
            border: 1px solid var(--border-light);
        }

        .chat-input-area {
            padding: 16px;
            background: var(--surface-white);
            border-top: 1px solid var(--border-light);
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid var(--border-light);
            border-radius: 24px;
            font-family: 'Inter', 'Hind Siliguri', sans-serif;
            background: var(--surface-light);
            color: var(--neutral-800);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-500);
        }

        .chat-send {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--primary-600);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-send:hover {
            background: var(--primary-700);
        }

        .suggested-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .suggested-q {
            padding: 8px 14px;
            background: var(--surface-white);
            border: 1px solid var(--border-light);
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--neutral-600);
        }

        .suggested-q:hover {
            background: var(--primary-500);
            color: white;
            border-color: var(--primary-500);
        }

        /* Side Menu */
        .side-menu-button {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 48px;
            height: 48px;
            border-radius: 16px;
            background: var(--surface-white);
            border: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            cursor: pointer;
            z-index: 90;
            transition: all 0.2s;
        }

        .side-menu-button:hover {
            background: var(--surface-light);
        }

        .side-menu-button span {
            width: 20px;
            height: 2px;
            background: var(--neutral-600);
            border-radius: 1px;
        }

        .side-options {
            position: fixed;
            bottom: 160px;
            right: 24px;
            background: var(--surface-white);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 16px;
            display: none;
            flex-direction: column;
            gap: 8px;
            z-index: 91;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .side-option {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--surface-light);
            color: var(--neutral-700);
        }

        .side-option:hover {
            background: var(--primary-500);
            color: white;
        }

        .side-option.logout:hover {
            background: var(--accent-500);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero-grid {
                grid-template-columns: 1fr;
            }
            
            .timer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .chat-window {
                width: 300px;
                right: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="login-page" class="login-page">
        <div class="login-card">
            <div class="logo-container">
                <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="DINISLAM" class="logo-image">
                <div class="logo-text"><span>DINI</span>SLAM</div>
            </div>
            <p style="text-align: center; color: var(--neutral-500); margin-bottom: 24px;">রমজান ২০২৬ · আপনার তথ্য</p>
            <input type="text" id="userName" class="input-field" placeholder="আপনার নাম">
            <input type="number" id="mobile" class="input-field" placeholder="মোবাইল নম্বর">
            <button class="btn btn-primary" onclick="login()">প্রবেশ করুন</button>
        </div>
    </div>

    <!-- Welcome Page -->
    <div id="welcome-page" style="display: none;" class="welcome-page">
        <div class="welcome-card">
            <div class="logo-container">
                <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="DINISLAM" class="logo-image">
            </div>
            <div class="welcome-name" id="displayUserName"></div>
            <div class="welcome-message" id="welcomeMessage"></div>
            <div style="display: flex; flex-direction: column; gap: 12px;">
                <button class="btn btn-primary" onclick="enterMainPage()">প্রধান পৃষ্ঠা</button>
                <button class="btn btn-secondary" onclick="downloadWelcomePDF()">ডাউনলোড পিডিএফ</button>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left" onclick="openModal('creator')">
                    Creator Info
                </div>
                <div class="header-right">
                    <span style="font-weight: 600;">DINISLAM</span>
                    <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="Profile">
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Hero Section -->
            <div class="hero">
                <div class="hero-grid">
                    <div>
                        <div class="hero-title">পবিত্র মাহে রমজান</div>
                        <div class="hero-year">২০২৬</div>
                    </div>
                    <div class="hero-date-card">
                        <div id="currentDateLabel" style="font-size: 14px; opacity: 0.9;">আজ</div>
                        <div class="hero-day-number" id="currentDayNumber">২৯</div>
                        <div class="hero-day-label" id="currentMonthName">শাবান</div>
                    </div>
                </div>
                
                <!-- Timer -->
                <div class="timer-grid">
                    <div class="timer-item">
                        <div class="timer-number" id="days">০০</div>
                        <div class="timer-label">দিন</div>
                    </div>
                    <div class="timer-item">
                        <div class="timer-number" id="hours">০০</div>
                        <div class="timer-label">ঘণ্টা</div>
                    </div>
                    <div class="timer-item">
                        <div class="timer-number" id="mins">০০</div>
                        <div class="timer-label">মিনিট</div>
                    </div>
                    <div class="timer-item">
                        <div class="timer-number" id="secs">০০</div>
                        <div class="timer-label">সেকেন্ড</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 16px; font-size: 14px; opacity: 0.9;">
                    ঈদুল ফিতর আসতে সময় বাকি
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <div class="dashboard-card" onclick="openModal('cal')">
                    <div class="card-icon"><i class="fas fa-calendar-alt"></i></div>
                    <div class="card-title">সময়সূচী</div>
                </div>
                <div class="dashboard-card" onclick="openModal('dua')">
                    <div class="card-icon"><i class="fas fa-hand-paper"></i></div>
                    <div class="card-title">দোয়া</div>
                </div>
                <div class="dashboard-card" onclick="openModal('tas')">
                    <div class="card-icon"><i class="fas fa-circle"></i></div>
                    <div class="card-title">তসবিহ</div>
                </div>
                <div class="dashboard-card" onclick="openModal('zak')">
                    <div class="card-icon"><i class="fas fa-calculator"></i></div>
                    <div class="card-title">জাকাত</div>
                </div>
                <div class="dashboard-card" onclick="openModal('vid')">
                    <div class="card-icon"><i class="fas fa-play-circle"></i></div>
                    <div class="card-title">ভিডিও</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ROVEX Chat -->
    <div class="chat-button" onclick="toggleChat()">
        <i class="fas fa-comment"></i>
        <span>ROVEX</span>
    </div>
    
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h4>ROVEX · ইসলামিক সহায়ক</h4>
            <button class="chat-close" onclick="toggleChat()">×</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                আসসালামু আলাইকুম। আমি ROVEX, আপনার ইসলামিক AI সহকারী। কুরআন, হাদিস ও দ্বীনি বিষয়ে যেকোনো প্রশ্নে সাহায্য করতে প্রস্তুত আছি।
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" class="chat-input" placeholder="লিখুন...">
            <button class="chat-send" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Side Menu -->
    <div class="side-menu-button" onclick="toggleSideOptions()">
        <span></span>
        <span></span>
        <span></span>
    </div>
    
    <div class="side-options" id="sideOptions">
        <button class="side-option" onclick="toggleDarkMode()">ডার্ক মোড</button>
        <button class="side-option logout" onclick="logout()">লগআউট</button>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">×</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        (function() {
            // Data
            function generateData(sH, sM, iH, iM) {
                let res = [];
                let dates = ["১৯ ফেব", "২০ ফেব", "২১ ফেব", "২২ ফেব", "২৩ ফেব", "২৪ ফেব", "২৫ ফেব", "২৬ ফেব", "২৭ ফেব", "২৮ ফেব", "০১ মার্চ", "০২ মার্চ", "০৩ মার্চ", "০৪ মার্চ", "০৫ মার্চ", "০৬ মার্চ", "০৭ মার্চ", "০৮ মার্চ", "০৯ মার্চ", "১০ মার্চ", "১১ মার্চ", "১২ মার্চ", "১৩ মার্চ", "১৪ মার্চ", "১৫ মার্চ", "১৬ মার্চ", "১৭ মার্চ", "১৮ মার্চ", "১৯ মার্চ", "২০ মার্চ"];
                for(let i=0;i<30;i++) {
                    let sTotal = sM - i; let sHr = sH; if(sTotal < 0) { sHr--; sTotal += 60; }
                    let iTotal = iM + i; let iHr = iH; if(iTotal >= 60) { iHr++; iTotal -= 60; }
                    res.push({ r: (i+1).toLocaleString('bn-BD'), d: dates[i], s: sHr.toLocaleString('bn-BD')+":"+sTotal.toString().padStart(2,'0').toLocaleString('bn-BD'), i: iHr.toLocaleString('bn-BD')+":"+iTotal.toString().padStart(2,'0').toLocaleString('bn-BD') });
                }
                return res;
            }
            
            const ramadanData = {
                'ঢাকা': generateData(5,19,18,5),
                'রাজশাহী': generateData(5,18,18,4),
                'চট্টগ্রাম': generateData(5,5,17,53),
                'সিলেট': generateData(5,4,17,50),
                'খুলনা': generateData(5,15,18,2),
                'বরিশাল': generateData(5,11,17,59),
                'রংপুর': generateData(5,17,18,0),
                'ময়মনসিংহ': generateData(5,14,18,2)
            };
            
            const allDuas = [
                {t:"১. চাঁদ দেখার দোয়া", a:"اللَّهُمَّ أَهِلَّهُ عَلَيْنَا بِالْأَمْنِ وَالْإِيمَانِ وَالسَّلَامَةِ وَالْإِسْلَامِ", b:"হে আল্লাহ! চাঁদকে আমাদের নিরাপত্তা, ঈমান, শান্তি ও ইসলামের সাথে উদিত করুন।"},
                {t:"২. রোজার নিয়ত", a:"نَوَيْتُ أَنْ أَصُومَ غَدًا لِلّٰهِ تَعَالَى مِنْ شَهْرِ رَمَضَانَ", b:"আগামীকাল রমজানের রোজা রাখার নিয়ত করলাম।"},
                {t:"৩. ইফতারের দোয়া", a:"اللَّهُمَّ لَكَ صُمْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ", b:"হে আল্লাহ! আপনার জন্য রোজা রেখেছি এবং আপনার রিজিকেই ইফতার করছি।"},
                {t:"৪. ইফতারের পর দোয়া", a:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ", b:"পিপাসা মিটেছে, শিরাসমূহ সিক্ত হয়েছে এবং আল্লাহ চাইলে পুরস্কার নির্ধারিত হয়েছে।"},
                {t:"৫. লাইলাতুল কদরের দোয়া", a:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي", b:"হে আল্লাহ! আপনি ক্ষমাশীল, আপনি ক্ষমা করতে পছন্দ করেন, তাই আমাকে ক্ষমা করুন।"},
                {t:"৬. পিতামাতার দোয়া", a:"رَّبِّ ارْحَمْهُمَا كَمَا رَبَّيَانِي صَغِيرًا", b:"হে আল্লাহ! আমার পিতামাতার প্রতি দয়া করুন।"},
                {t:"৭. বিপদের দোয়া", a:"حَسْبُنَا اللَّهُ وَنِعْمَ الْوَكِيلُ", b:"আল্লাহই আমাদের জন্য যথেষ্ট।"},
                {t:"৮. ক্ষমা চাওয়ার দোয়া", a:"أَسْتَغْفِرُ اللَّهَ رَبِّي مِنْ كُلِّ ذَنْبٍ وَأَتُوبُ إِلَيْهِ", b:"আমি আমার রবের কাছে সব গুনাহের ক্ষমা চাই।"},
                {t:"৯. রিযিকের দোয়া", a:"اللَّهُمَّ ارْزُقْنِي رِزْقًا حَلَالًا طَيِّبًا", b:"হে আল্লাহ! আমাকে হালাল রিযিক দিন।"},
                {t:"১০. জাহান্নাম থেকে মুক্তি", a:"اللَّهُمَّ أَجِرْنِي مِنَ النَّارِ", b:"হে আল্লাহ! আমাকে জাহান্নাম থেকে রক্ষা করুন।"},
                {t:"১১. ওযুর আগের দোয়া", a:"بِسْمِ اللَّهِ", b:"আল্লাহর নামে শুরু করছি।"},
                {t:"১২. ওযুর পরের দোয়া", a:"أَشْهَدُ أَنْ لَا إِلَهَ إِلَّا اللَّهُ وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ", b:"সাক্ষ্য দিচ্ছি আল্লাহ ছাড়া কোনো মাবুদ নেই।"},
                {t:"১৩. মসজিদে প্রবেশের দোয়া", a:"اللَّهُمَّ افْتَحْ لِي أَبْوَابَ رَحْمَتِكَ", b:"হে আল্লাহ! রহমতের দরজা খুলে দিন।"},
                {t:"১৪. মসজিদ থেকে বের হওয়ার দোয়া", a:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ", b:"হে আল্লাহ! আপনার অনুগ্রহ প্রার্থনা করছি।"},
                {t:"১৫. আয়না দেখার দোয়া", a:"اللَّهُمَّ حَسَّنتَ خَلْقِي فَحَسِّنْ خُلُقِي", b:"হে আল্লাহ! চরিত্র সুন্দর করুন।"},
                {t:"১৬. সফরের দোয়া", a:"سُبْحَانَ الَّذِي سَخَّرَ لَنَا هَذَا", b:"পবিত্র তিনি যিনি এগুলো আমাদের বশীভূত করেছেন।"},
                {t:"১৭. খাওয়ার আগের দোয়া", a:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ", b:"আল্লাহর নামে ও বরকতে।"},
                {t:"১৮. খাওয়ার পরের দোয়া", a:"الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا", b:"প্রশংসা আল্লাহর যিনি খাইয়েছেন।"},
                {t:"১৯. ঘুমানোর দোয়া", a:"بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا", b:"আপনার নামে মরি ও জীবিত হই।"},
                {t:"২০. ঘুম থেকে ওঠার দোয়া", a:"الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا", b:"প্রশংসা আল্লাহর যিনি জীবিত করলেন।"},
                {t:"২১. বাথরুম প্রবেশের দোয়া", a:"اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبُثِ", b:"অপবিত্র জিন থেকে আশ্রয় চাই।"},
                {t:"২২. বাথরুম থেকে বের হওয়ার দোয়া", a:"غُفْرَانَكَ", b:"ক্ষমা প্রার্থনা করছি।"},
                {t:"২৩. নতুন কাপড় পরার দোয়া", a:"الْحَمْدُ لِلَّهِ الَّذِي كَسَانِي", b:"প্রশংসা যিনি আমাকে কাপড় পরিয়েছেন।"},
                {t:"২৪. রাগ দমনের দোয়া", a:"أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ", b:"শয়তান থেকে আল্লাহর আশ্রয়।"},
                {t:"২৫. বৃষ্টির দোয়া", a:"اللَّهُمَّ صَيِّبًا نَافِعًا", b:"হে আল্লাহ! উপকারী বৃষ্টি দিন।"},
                {t:"২৬. বজ্রপাতের সময় দোয়া", a:"سُبْحَانَ الَّذِي يُسَبِّحُ الرَّعْدُ", b:"পবিত্র তিনি যাঁর প্রশংসা বজ্র করে।"},
                {t:"২৭. সিজদার দোয়া", a:"سُبْحَانَ رَبِّيَ الْأَعْلَى", b:"মহান রবের পবিত্রতা।"},
                {t:"২৮. রুকুর দোয়া", a:"سُبْحَانَ رَبِّيَ الْعَظِيمِ", b:"সুমহান রবের পবিত্রতা।"},
                {t:"২৯. নামাজের শেষে দোয়া", a:"رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً", b:"হে আমাদের রব! দুনিয়া ও আখেরাতে কল্যাণ দিন।"},
                {t:"৩০. সালাম ফেরানোর দোয়া", a:"السَّلَامُ عَلَيْكُمْ وَرَحْمَةُ اللَّهِ", b:"আপনাদের প্রতি শান্তি ও আল্লাহর রহমত বর্ষিত হোক।"}
            ];

            // Tasbih
            let tasCount = parseInt(localStorage.getItem('tasCount')) || 0;
            let generalTasCount = parseInt(localStorage.getItem('generalTasCount')) || 0;
            let currentTasMode = 'regular';

            function getRegularLabel(c) { 
                let m = c % 100; 
                if(m <= 33) return 'সুবহানাল্লাহ'; 
                if(m <= 66) return 'আলহামদুলিল্লাহ'; 
                return 'আল্লাহু আকবার'; 
            }

            // Functions
            window.login = function() {
                let name = document.getElementById('userName').value.trim();
                let mobile = document.getElementById('mobile').value.trim();
                if(name && mobile.length >= 6) {
                    localStorage.setItem('userName', name);
                    localStorage.setItem('userMobile', mobile);
                    document.getElementById('login-page').style.display = 'none';
                    document.getElementById('welcome-page').style.display = 'flex';
                    document.getElementById('displayUserName').innerText = name;
                    
                    let hour = new Date().getHours();
                    let greeting = hour < 12 ? 'শুভ সকাল' : hour < 17 ? 'শুভ বিকাল' : 'শুভ সন্ধ্যা';
                    
                    document.getElementById('welcomeMessage').innerHTML = `
                        <p>${greeting} ${name},</p>
                        <p>DINISLAM প্ল্যাটফর্মে আপনাকে স্বাগতম। রমজানের সময়সূচি, দোয়া ও তসবিহ এক ক্লিকেই পাবেন।</p>
                        <p>আল্লাহ আপনার সব নেক কাজ কবুল করুন।</p>
                    `;
                } else {
                    alert('নাম ও সঠিক মোবাইল নম্বর দিন');
                }
            };

            window.enterMainPage = function() { 
                document.getElementById('welcome-page').style.display = 'none'; 
                document.getElementById('dashboard').style.display = 'block'; 
            };

            window.downloadWelcomePDF = function() {
                let name = localStorage.getItem('userName') || 'ভাই';
                let content = `DINISLAM - রমজান ২০২৬\n\nপ্রিয় ${name},\nআপনাকে স্বাগতম। সম্পূর্ণ সময়সূচি, দোয়া ও তসবিহ অ্যাপে দেখুন।`;
                let blob = new Blob([content], {type: 'text/plain'});
                let a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = 'welcome_dinislam.txt';
                a.click();
            };

            window.openModal = function(type) {
                let body = document.getElementById('modal-body');
                document.getElementById('modal').style.display = 'flex';
                
                if(type == 'cal') {
                    let html = '<h3 style="margin-bottom: 20px;">বিভাগ নির্বাচন করুন</h3>';
                    Object.keys(ramadanData).forEach(d => {
                        html += `<button class="btn btn-primary" style="margin-bottom: 8px;" onclick="showTable('${d}')">${d}</button>`;
                    });
                    body.innerHTML = html;
                } 
                else if(type == 'dua') {
                    let html = '<h3 style="margin-bottom: 24px;">প্রয়োজনীয় দোয়া</h3>';
                    allDuas.forEach(d => {
                        html += `
                            <div class="dua-card">
                                <div class="dua-title">${d.t}</div>
                                <div class="dua-arabic">${d.a}</div>
                                <div class="dua-bangla">${d.b}</div>
                            </div>
                        `;
                    });
                    body.innerHTML = html;
                }
                else if(type == 'tas') {
                    renderTasUI();
                }
                else if(type == 'zak') {
                    body.innerHTML = `
                        <h3 style="margin-bottom: 24px;">জাকাত ক্যালকুলেটর</h3>
                        <input type="number" id="cash" class="input-field" placeholder="মোট সম্পদ (টাকা)" oninput="liveZak()">
                        <div style="background: var(--surface-light); padding: 24px; border-radius: 12px; margin-top: 16px;">
                            <div style="color: var(--neutral-500); font-size: 14px;">জাকাতের পরিমাণ</div>
                            <div style="font-size: 32px; font-weight: 700; color: var(--primary-600);" id="zRes">০ টাকা</div>
                        </div>
                    `;
                }
                else if(type == 'creator') {
                    showPremiumCreator();
                }
                else if(type == 'vid') {
                    showVideoSearch();
                }
            };

            window.showTable = function(division) {
                let html = `
                    <h3 style="margin-bottom: 20px;">${division} · সেহরি ও ইফতার</h3>
                    <table class="schedule-table">
                        <thead>
                            <tr>
                                <th>রমজান</th>
                                <th>তারিখ</th>
                                <th>সেহরি</th>
                                <th>ইফতার</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                ramadanData[division].forEach(r => {
                    html += `
                        <tr>
                            <td>${r.r}</td>
                            <td>${r.d}</td>
                            <td style="color: var(--accent-500);">${r.s}</td>
                            <td style="color: var(--primary-600);">${r.i}</td>
                        </tr>
                    `;
                });
                
                html += `
                        </tbody>
                    </table>
                    <button class="btn btn-secondary" style="margin-top: 20px;" onclick="openModal('cal')">পিছনে</button>
                `;
                
                document.getElementById('modal-body').innerHTML = html;
            };

            function showPremiumCreator() {
                document.getElementById('modal-body').innerHTML = `
                    <div class="creator-profile">
                        <div class="creator-header">
                            <img src="https://i.postimg.cc/yNhjsYJ4/1771310158774_01.jpg" alt="Shamiul Islam Borson" class="creator-avatar">
                            <div class="creator-name">শামিউল ইসলাম বর্ষন</div>
                            <div class="creator-title">Creator · DINISLAM</div>
                        </div>
                        
                        <div class="creator-bio">
                            <p style="margin-bottom: 12px;">Building meaningful digital experiences for the Ummah. DINISLAM is designed as a comprehensive guide for Ramadan — Sehri and Iftar times, duas, tasbih and beneficial videos.</p>
                            <p>May this effort be a source of blessings.</p>
                        </div>
                        
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">৮+</div>
                                <div class="stat-label">Projects</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">১০০০+</div>
                                <div class="stat-label">Users</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">২৪/৭</div>
                                <div class="stat-label">Support</div>
                            </div>
                        </div>
                        
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        
                        <a href="https://fb.com/SI.Borson1" target="_blank" class="btn btn-primary" style="text-decoration: none; display: inline-block; width: auto; padding: 14px 32px; margin-top: 16px;">Facebook Profile</a>
                    </div>
                `;
            }

            function showVideoSearch() {
                document.getElementById('modal-body').innerHTML = `
                    <h3 style="margin-bottom: 24px;">ইসলামিক ভিডিও সার্চ করুন</h3>
                    <div style="display: flex; gap: 12px; margin-bottom: 24px;">
                        <input type="text" id="searchQuery" class="input-field" placeholder="যেমন: রোজার নিয়ম, দোয়া">
                        <button class="btn btn-primary" style="width: auto; padding: 0 32px;" onclick="searchVideos()">খুঁজুন</button>
                    </div>
                    <div id="videoResults" class="video-grid"></div>
                    <div id="videoPlayer" style="display: none;">
                        <div id="playerContainer"></div>
                        <button class="btn btn-secondary" style="margin-top: 16px;" onclick="showVideoSearch()">ফিরে যান</button>
                    </div>
                `;
            }

            window.searchVideos = function() {
                let query = document.getElementById('searchQuery').value;
                if(!query) return;
                
                document.getElementById('videoResults').innerHTML = '<div style="grid-column: 1/-1; text-align: center;">অনুসন্ধান চলছে...</div>';
                
                fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=${encodeURIComponent(query)}&type=video&key=AIzaSyArgYYff2pvPL-MDuHNtqOIN-uMw5vkIeg`)
                .then(r => r.json())
                .then(data => {
                    if(data.error) {
                        document.getElementById('videoResults').innerHTML = '<div style="grid-column: 1/-1; text-align: center;">ত্রুটি হয়েছে</div>';
                        return;
                    }
                    
                    let html = '';
                    data.items.forEach(item => {
                        html += `
                            <div class="video-item" onclick='playVideo("${item.id.videoId}", "${item.snippet.title.replace(/'/g, '')}")'>
                                <img src="${item.snippet.thumbnails.medium.url}" class="video-thumb">
                                <div class="video-info">
                                    <div class="video-title">${item.snippet.title.substring(0, 40)}...</div>
                                    <div class="video-channel">${item.snippet.channelTitle}</div>
                                </div>
                            </div>
                        `;
                    });
                    
                    document.getElementById('videoResults').innerHTML = html || '<div style="grid-column: 1/-1; text-align: center;">কিছু পাওয়া যায়নি</div>';
                })
                .catch(() => {
                    document.getElementById('videoResults').innerHTML = '<div style="grid-column: 1/-1; text-align: center;">নেটওয়ার্ক সমস্যা</div>';
                });
            };

            window.playVideo = function(id, title) {
                document.getElementById('videoResults').style.display = 'none';
                let player = document.getElementById('videoPlayer');
                player.style.display = 'block';
                document.getElementById('playerContainer').innerHTML = `
                    <h4 style="margin-bottom: 16px;">${title}</h4>
                    <iframe width="100%" height="300" src="https://www.youtube.com/embed/${id}" frameborder="0" style="border-radius: 12px;" allowfullscreen></iframe>
                `;
            };

            function renderTasUI() {
                let body = document.getElementById('modal-body');
                body.innerHTML = `
                    <div class="tasbih-container">
                        <div class="tasbih-tabs">
                            <button class="tasbih-tab ${currentTasMode == 'regular' ? 'active' : ''}" onclick="switchTasMode('regular')">নিয়মিত</button>
                            <button class="tasbih-tab ${currentTasMode == 'general' ? 'active' : ''}" onclick="switchTasMode('general')">সাধারণ</button>
                        </div>
                        
                        <div class="tasbih-counter" onclick="handleTasClick()">
                            <svg class="progress-ring">
                                <circle cx="120" cy="120" r="110"></circle>
                            </svg>
                            <div class="tasbih-circle">
                                <div class="tasbih-count" id="tVal">${currentTasMode == 'regular' ? tasCount : generalTasCount}</div>
                                <div class="tasbih-label" id="targetLabel">${currentTasMode == 'regular' ? getRegularLabel(tasCount) : 'জিকির'}</div>
                            </div>
                        </div>
                        
                        <button class="btn btn-secondary" style="margin-top: 24px;" onclick="resetCurrentTas()">রিসেট</button>
                    </div>
                `;
                updateTasProgress();
            }

            window.switchTasMode = function(mode) { 
                currentTasMode = mode; 
                renderTasUI(); 
            };

            window.handleTasClick = function() {
                if(currentTasMode == 'regular') { 
                    tasCount++; 
                    localStorage.setItem('tasCount', tasCount); 
                    document.getElementById('tVal').innerText = tasCount; 
                    document.getElementById('targetLabel').innerText = getRegularLabel(tasCount); 
                } else { 
                    generalTasCount++; 
                    localStorage.setItem('generalTasCount', generalTasCount); 
                    document.getElementById('tVal').innerText = generalTasCount; 
                }
                updateTasProgress(); 
                if(navigator.vibrate) navigator.vibrate(30);
            };

            window.resetCurrentTas = function() {
                if(confirm('রিসেট নিশ্চিত?')) {
                    if(currentTasMode == 'regular') { 
                        tasCount = 0; 
                        localStorage.setItem('tasCount', 0); 
                    } else { 
                        generalTasCount = 0; 
                        localStorage.setItem('generalTasCount', 0); 
                    }
                    renderTasUI();
                }
            };

            function updateTasProgress() {
                let circle = document.querySelector('.progress-ring circle');
                if(!circle) return;
                
                let c = (currentTasMode == 'regular') ? (tasCount % 33 || 33) : (generalTasCount % 100 || 100);
                let max = (currentTasMode == 'regular' ? 33 : 100);
                let radius = 110;
                let circumference = 2 * Math.PI * radius;
                let offset = circumference - (c / max) * circumference;
                
                circle.style.strokeDasharray = `${circumference} ${circumference}`;
                circle.style.strokeDashoffset = offset;
            }

            window.liveZak = function() { 
                let value = document.getElementById('cash')?.value || 0; 
                document.getElementById('zRes').innerText = Math.floor(value * 0.025).toLocaleString('bn-BD') + ' টাকা'; 
            };

            window.toggleSideOptions = function() { 
                let options = document.getElementById('sideOptions'); 
                options.style.display = options.style.display === 'flex' ? 'none' : 'flex'; 
            };

            window.toggleDarkMode = function() { 
                document.body.classList.toggle('dark-mode'); 
                toggleSideOptions();
            };

            window.logout = function() { 
                localStorage.clear(); 
                location.reload(); 
            };

            window.closeModal = function() { 
                document.getElementById('modal').style.display = 'none'; 
            };

            // Date and Timer
            function updateCurrentDate() {
                let today = new Date(); 
                let start = new Date("February 19, 2026 00:00:00").getTime(); 
                let now = today.getTime(); 
                let diff = Math.ceil((start - now) / (86400000));
                
                let dLabel = document.getElementById('currentDateLabel'); 
                let dNum = document.getElementById('currentDayNumber'); 
                let dMonth = document.getElementById('currentMonthName');
                
                if(diff === 1) { 
                    dLabel.innerText = 'আগামীকাল'; 
                    dNum.innerText = '১'; 
                    dMonth.innerText = 'রমজান'; 
                } else if(diff <= 0) { 
                    let rd = Math.abs(diff) + 1; 
                    dLabel.innerText = 'আজ'; 
                    dNum.innerText = rd.toLocaleString('bn-BD'); 
                    dMonth.innerText = 'রমজান'; 
                } else { 
                    dLabel.innerText = 'আজ'; 
                    dNum.innerText = (30 - diff).toLocaleString('bn-BD'); 
                    dMonth.innerText = 'শাবান'; 
                }
            }

            setInterval(() => {
                let target = new Date("March 20, 2026 18:15:00").getTime(); 
                let diff = target - new Date().getTime();
                
                if(document.getElementById('days')) {
                    document.getElementById('days').innerText = Math.max(0, Math.floor(diff / 86400000)).toLocaleString('bn-BD');
                    document.getElementById('hours').innerText = Math.max(0, Math.floor((diff % 86400000) / 3600000)).toLocaleString('bn-BD');
                    document.getElementById('mins').innerText = Math.max(0, Math.floor((diff % 3600000) / 60000)).toLocaleString('bn-BD');
                    document.getElementById('secs').innerText = Math.max(0, Math.floor((diff % 60000) / 1000)).toLocaleString('bn-BD');
                }
                updateCurrentDate();
            }, 1000);

            // Chat
            window.toggleChat = function() { 
                let chat = document.getElementById('chatWindow'); 
                chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex'; 
                if(chat.style.display === 'flex' && !document.querySelector('.suggested-questions')) { 
                    addSuggested(); 
                }
            };

            function addSuggested() {
                let messages = document.getElementById('chatMessages'); 
                if(document.querySelector('.suggested-questions')) return;
                
                let div = document.createElement('div'); 
                div.className = 'suggested-questions'; 
                div.innerHTML = `
                    <span class="suggested-q" onclick="sendSuggested('রোজার সঠিক নিয়ম')">রোজার নিয়ম</span>
                    <span class="suggested-q" onclick="sendSuggested('ইফতারের দোয়া')">ইফতারের দোয়া</span>
                    <span class="suggested-q" onclick="sendSuggested('সেহরির সময়')">সেহরির সময়</span>
                    <span class="suggested-q" onclick="sendSuggested('তাহাজ্জুদ নামাজ')">তাহাজ্জুদ</span>
                `;
                messages.appendChild(div);
            }

            window.sendSuggested = function(q) { 
                document.getElementById('chatInput').value = q; 
                sendMessage(); 
            };

            window.sendMessage = async function() {
                let input = document.getElementById('chatInput'); 
                let msg = input.value.trim(); 
                if(!msg) return;
                
                let chat = document.getElementById('chatMessages');
                let suggested = document.querySelector('.suggested-questions'); 
                if(suggested) suggested.remove();
                
                chat.innerHTML += `<div class="message user-message">${msg}</div>`;
                input.value = ''; 
                chat.scrollTop = chat.scrollHeight;
                
                let typing = document.createElement('div'); 
                typing.className = 'message bot-message'; 
                typing.innerText = 'ROVEX টাইপ করছে...'; 
                typing.id = 'typing'; 
                chat.appendChild(typing);
                
                try {
                    let res = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Authorization': 'Bearer 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',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ 
                            model: 'llama-3.3-70b-versatile', 
                            messages: [
                                {role: 'system', content: 'তুমি ROVEX, একটি ইসলামিক সহায়ক। সবসময় বাংলায় সংক্ষিপ্ত উত্তর দাও। কোনো ইমোজি নয়।'},
                                {role: 'user', content: msg}
                            ], 
                            temperature: 0.7 
                        })
                    });
                    
                    document.getElementById('typing')?.remove();
                    let data = await res.json();
                    let reply = data.choices?.[0]?.message?.content || 'আমি বুঝতে পারিনি। আবার বলবেন?';
                    chat.innerHTML += `<div class="message bot-message">${reply}</div>`;
                } catch {
                    document.getElementById('typing')?.remove(); 
                    chat.innerHTML += `<div class="message bot-message">সাময়িক সমস্যা। পরে চেষ্টা করুন।</div>`;
                }
                chat.scrollTop = chat.scrollHeight;
            };

            // Initialize
            if(localStorage.getItem('userMobile') && localStorage.getItem('userName')) {
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('welcome-page').style.display = 'flex';
                document.getElementById('displayUserName').innerText = localStorage.getItem('userName');
                document.getElementById('welcomeMessage').innerHTML = `
                    <p>শুভ দিন, ${localStorage.getItem('userName')}।</p>
                    <p>রমজানের প্রস্তুতি নিন DINISLAM নিয়ে।</p>
                `;
            }
        })();
    </script>
</body>
</html>
